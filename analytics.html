<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç›Šã€…é…’é€  - ã‚¢ã‚¯ã‚»ã‚¹è§£æãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@300;400;500;600;700&family=Source+Sans+Pro:wght@300;400;500;600;700&family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <script src="clean-url.js"></script>
    <style>
        .analytics-dashboard {
            min-height: 100vh;
            background: var(--gradient-background);
            padding: 40px 0;
        }
        
        .dashboard-header {
            background: var(--gradient-primary);
            color: white;
            padding: 30px 0;
            margin-bottom: 40px;
            text-align: center;
        }
        
        .dashboard-title {
            font-family: var(--font-heading);
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 12px;
        }
        
        .dashboard-subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }
        
        .stat-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--border-radius-xl);
            padding: 30px;
            box-shadow: var(--shadow-luxury);
            border: 3px solid rgba(232, 184, 109, 0.2);
            backdrop-filter: blur(20px);
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-accent);
        }
        
        .stat-card {
            position: relative;
        }
        
        .stat-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .stat-icon {
            font-size: 2.5rem;
            margin-right: 16px;
            filter: drop-shadow(0 4px 8px rgba(232, 184, 109, 0.3));
        }
        
        .stat-title {
            font-family: var(--font-heading);
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--color-primary);
        }
        
        .stat-number {
            font-family: var(--font-heading);
            font-size: 3rem;
            font-weight: 800;
            color: var(--color-accent);
            margin-bottom: 8px;
            text-shadow: 0 2px 4px rgba(232, 184, 109, 0.3);
        }
        
        .stat-label {
            color: var(--color-cognac);
            font-weight: 600;
            margin-bottom: 16px;
        }
        
        .stat-details {
            background: var(--gradient-luxury);
            padding: 16px;
            border-radius: var(--border-radius);
            border-left: 4px solid var(--color-accent);
        }
        
        .language-chart,
        .product-chart,
        .time-chart {
            margin-top: 20px;
        }
        
        .chart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(232, 184, 109, 0.2);
        }
        
        .chart-item:last-child {
            border-bottom: none;
        }
        
        .chart-label {
            font-weight: 600;
            color: var(--color-primary);
        }
        
        .chart-bar {
            flex: 1;
            height: 8px;
            background: rgba(232, 184, 109, 0.2);
            margin: 0 16px;
            border-radius: 4px;
            position: relative;
            overflow: hidden;
        }
        
        .chart-fill {
            height: 100%;
            background: var(--gradient-accent);
            border-radius: 4px;
            transition: width 2s ease;
        }
        
        .chart-value {
            font-weight: 700;
            color: var(--color-accent);
            min-width: 40px;
            text-align: right;
        }
        
        .recent-activity {
            background: rgba(255, 255, 255, 0.95);
            border-radius: var(--border-radius-xl);
            padding: 30px;
            box-shadow: var(--shadow-luxury);
            border: 3px solid rgba(232, 184, 109, 0.2);
            backdrop-filter: blur(20px);
            position: relative;
        }
        
        .recent-activity::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--gradient-accent);
        }
        
        .activity-item {
            display: flex;
            align-items: center;
            padding: 16px 0;
            border-bottom: 1px solid rgba(232, 184, 109, 0.1);
        }
        
        .activity-item:last-child {
            border-bottom: none;
        }
        
        .activity-icon {
            font-size: 1.8rem;
            margin-right: 16px;
            width: 40px;
            text-align: center;
        }
        
        .activity-content {
            flex: 1;
        }
        
        .activity-text {
            color: var(--color-primary);
            font-weight: 500;
            margin-bottom: 4px;
        }
        
        .activity-time {
            color: var(--color-cognac);
            font-size: 0.9rem;
        }
        
        .export-section {
            margin-top: 40px;
            text-align: center;
        }
        
        .export-btn {
            background: var(--gradient-accent);
            color: var(--color-primary);
            padding: 16px 32px;
            border: none;
            border-radius: var(--border-radius);
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition-normal);
            margin: 0 12px;
            box-shadow: var(--shadow-medium);
        }
        
        .export-btn:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-luxury);
        }
        
        .refresh-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--gradient-accent);
            color: var(--color-primary);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: var(--shadow-luxury);
            transition: var(--transition-normal);
        }
        
        .refresh-btn:hover {
            transform: scale(1.1);
        }
        
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .stat-number {
                font-size: 2.5rem;
            }
            
            .dashboard-title {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <div class="nav-brand">
                    <a href="index" class="brand-link">
                        <div class="brand-logo-container">
                            <div class="logo-icon">ğŸ¶</div>
                            <div class="brand-text">
                                <h1 class="brand-logo">ç›Šã€…é…’é€ </h1>
                                <span class="brand-tagline">Masumasu Brewery</span>
                            </div>
                        </div>
                    </a>
                </div>
                
                <div class="nav-menu">
                    <ul>
                        <li><a href="index#products" class="nav-link">æ—¥æœ¬é…’</a></li>
                        <li><a href="index#tour" class="nav-link">ãƒ„ã‚¢ãƒ¼</a></li>
                        <li><a href="about" class="nav-link">é…’è”µã«ã¤ã„ã¦</a></li>
                        <li><a href="visit" class="nav-link">è”µè¦‹å­¦</a></li>
                        <li><a href="contact" class="nav-link">ãŠå•ã„åˆã‚ã›</a></li>
                    </ul>
                </div>
                
                <div class="nav-right">
                    <div class="google-translate-container">
                        <div id="google_translate_element"></div>
                    </div>
                </div>
            </nav>
        </div>
    </header>

    <div class="analytics-dashboard">
        <div class="dashboard-header">
            <div class="container">
                <h1 class="dashboard-title">ğŸ“Š ç›Šã€…é…’é€  ã‚¢ã‚¯ã‚»ã‚¹è§£æ</h1>
                <p class="dashboard-subtitle">ã‚µã‚¤ãƒˆåˆ©ç”¨çŠ¶æ³ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æŠŠæ¡</p>
            </div>
        </div>
        
        <div class="container">
            <div class="stats-grid">
                <!-- ç·è¨ªå•è€…æ•° -->
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon">ğŸ‘¥</div>
                        <div class="stat-title">ç·è¨ªå•è€…æ•°</div>
                    </div>
                    <div class="stat-number" id="totalVisitors">1,247</div>
                    <div class="stat-label">ä»Šæœˆã®è¨ªå•è€…æ•°</div>
                    <div class="stat-details">
                        <div>å‰æœˆæ¯”: <span style="color: #22c55e; font-weight: 700;">+23%</span></div>
                        <div>æ–°è¦è¨ªå•è€…: <span style="color: var(--color-accent); font-weight: 700;">892äºº (71.5%)</span></div>
                    </div>
                </div>
                
                <!-- è¨€èªåˆ¥åˆ©ç”¨çŠ¶æ³ -->
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon">ğŸŒ</div>
                        <div class="stat-title">è¨€èªåˆ¥åˆ©ç”¨çŠ¶æ³</div>
                    </div>
                    <div class="language-chart">
                        <div class="chart-item">
                            <div class="chart-label">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</div>
                            <div class="chart-bar"><div class="chart-fill" style="width: 45%;"></div></div>
                            <div class="chart-value">45%</div>
                        </div>
                        <div class="chart-item">
                            <div class="chart-label">ğŸ‡ºğŸ‡¸ English</div>
                            <div class="chart-bar"><div class="chart-fill" style="width: 28%;"></div></div>
                            <div class="chart-value">28%</div>
                        </div>
                        <div class="chart-item">
                            <div class="chart-label">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</div>
                            <div class="chart-bar"><div class="chart-fill" style="width: 15%;"></div></div>
                            <div class="chart-value">15%</div>
                        </div>
                        <div class="chart-item">
                            <div class="chart-label">ğŸ‡«ğŸ‡· FranÃ§ais</div>
                            <div class="chart-bar"><div class="chart-fill" style="width: 12%;"></div></div>
                            <div class="chart-value">12%</div>
                        </div>
                    </div>
                </div>
                
                <!-- äººæ°—å•†å“ãƒ©ãƒ³ã‚­ãƒ³ã‚° -->
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon">ğŸ¶</div>
                        <div class="stat-title">äººæ°—å•†å“ãƒ©ãƒ³ã‚­ãƒ³ã‚°</div>
                    </div>
                    <div class="product-chart">
                        <div class="chart-item">
                            <div class="chart-label">ç´”ç±³åŸé†¸ã€Œç›Šã€…ã€</div>
                            <div class="chart-bar"><div class="chart-fill" style="width: 65%;"></div></div>
                            <div class="chart-value">342</div>
                        </div>
                        <div class="chart-item">
                            <div class="chart-label">ã‚¹ãƒ‘ãƒ¼ã‚¯ãƒªãƒ³ã‚°æ¸…é…’</div>
                            <div class="chart-bar"><div class="chart-fill" style="width: 48%;"></div></div>
                            <div class="chart-value">251</div>
                        </div>
                        <div class="chart-item">
                            <div class="chart-label">å¤é…’ã€Œç›Šã€…ã€</div>
                            <div class="chart-bar"><div class="chart-fill" style="width: 35%;"></div></div>
                            <div class="chart-value">183</div>
                        </div>
                        <div class="chart-item">
                            <div class="chart-label">æœ¬é†¸é€ ã€Œç›Šã€…ã€</div>
                            <div class="chart-bar"><div class="chart-fill" style="width: 28%;"></div></div>
                            <div class="chart-value">147</div>
                        </div>
                    </div>
                </div>
                
                <!-- AIæœæ°åˆ©ç”¨çŠ¶æ³ -->
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon">ğŸ¤–</div>
                        <div class="stat-title">AIæœæ°åˆ©ç”¨çŠ¶æ³</div>
                    </div>
                    <div class="stat-number" id="aiInteractions">567</div>
                    <div class="stat-label">ä»Šæœˆã®è³ªå•æ•°</div>
                    <div class="stat-details">
                        <div>ã‚ˆãã‚ã‚‹è³ªå•:</div>
                        <div>1. ã€Œç´”ç±³åŸé†¸ã¨ã¯ï¼Ÿã€ (89å›)</div>
                        <div>2. ã€Œæ–™ç†ã¨ã®ç›¸æ€§ã€ (76å›)</div>
                        <div>3. ã€Œæ¸©åº¦ã®é£²ã¿æ–¹ã€ (64å›)</div>
                    </div>
                </div>
                
                <!-- ã‚¢ã‚¯ã‚»ã‚¹æ™‚é–“å¸¯ -->
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon">â°</div>
                        <div class="stat-title">ã‚¢ã‚¯ã‚»ã‚¹æ™‚é–“å¸¯</div>
                    </div>
                    <div class="time-chart">
                        <div class="chart-item">
                            <div class="chart-label">æœ (6-12æ™‚)</div>
                            <div class="chart-bar"><div class="chart-fill" style="width: 25%;"></div></div>
                            <div class="chart-value">25%</div>
                        </div>
                        <div class="chart-item">
                            <div class="chart-label">æ˜¼ (12-18æ™‚)</div>
                            <div class="chart-bar"><div class="chart-fill" style="width: 40%;"></div></div>
                            <div class="chart-value">40%</div>
                        </div>
                        <div class="chart-item">
                            <div class="chart-label">å¤œ (18-24æ™‚)</div>
                            <div class="chart-bar"><div class="chart-fill" style="width: 35%;"></div></div>
                            <div class="chart-value">35%</div>
                        </div>
                    </div>
                </div>
                
                <!-- å›½éš›çš„ã‚¢ã‚¯ã‚»ã‚¹ -->
                <div class="stat-card">
                    <div class="stat-header">
                        <div class="stat-icon">ğŸŒ</div>
                        <div class="stat-title">å›½éš›çš„ã‚¢ã‚¯ã‚»ã‚¹</div>
                    </div>
                    <div class="stat-number" id="internationalVisitors">456</div>
                    <div class="stat-label">æµ·å¤–ã‹ã‚‰ã®è¨ªå•è€…</div>
                    <div class="stat-details">
                        <div>ğŸ‡ºğŸ‡¸ ã‚¢ãƒ¡ãƒªã‚«: 156äºº</div>
                        <div>ğŸ‡¬ğŸ‡§ ã‚¤ã‚®ãƒªã‚¹: 89äºº</div>
                        <div>ğŸ‡«ğŸ‡· ãƒ•ãƒ©ãƒ³ã‚¹: 78äºº</div>
                        <div>ğŸ‡¦ğŸ‡º ã‚ªãƒ¼ã‚¹ãƒˆãƒ©ãƒªã‚¢: 67äºº</div>
                        <div>ğŸ‡¸ğŸ‡¬ ã‚·ãƒ³ã‚¬ãƒãƒ¼ãƒ«: 45äºº</div>
                    </div>
                </div>
            </div>
            
            <div class="recent-activity">
                <div class="stat-header">
                    <div class="stat-icon">ğŸ“ˆ</div>
                    <div class="stat-title">æœ€è¿‘ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£</div>
                </div>
                
                <div class="activity-item">
                    <div class="activity-icon">ğŸ›’</div>
                    <div class="activity-content">
                        <div class="activity-text">ç´”ç±³åŸé†¸ã€Œç›Šã€…ã€ãŒã‚«ãƒ¼ãƒˆã«è¿½åŠ ã•ã‚Œã¾ã—ãŸ</div>
                        <div class="activity-time">3åˆ†å‰ | ğŸ‡ºğŸ‡¸ ã‚¢ãƒ¡ãƒªã‚«ã‹ã‚‰ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼</div>
                    </div>
                </div>
                
                <div class="activity-item">
                    <div class="activity-icon">ğŸ¤–</div>
                    <div class="activity-content">
                        <div class="activity-text">AIæœæ°ã«ã€Œç´”ç±³é…’ã¨åŸé†¸é…’ã®é•ã„ã€ã«ã¤ã„ã¦è³ªå•</div>
                        <div class="activity-time">7åˆ†å‰ | ğŸ‡«ğŸ‡· ãƒ•ãƒ©ãƒ³ã‚¹ã‹ã‚‰ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼</div>
                    </div>
                </div>
                
                <div class="activity-item">
                    <div class="activity-icon">ğŸ“±</div>
                    <div class="activity-content">
                        <div class="activity-text">QRã‚³ãƒ¼ãƒ‰ã‹ã‚‰å•†å“è©³ç´°ãƒšãƒ¼ã‚¸ã«ã‚¢ã‚¯ã‚»ã‚¹</div>
                        <div class="activity-time">12åˆ†å‰ | ğŸ‡¯ğŸ‡µ æ—¥æœ¬ã‹ã‚‰ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼</div>
                    </div>
                </div>
                
                <div class="activity-item">
                    <div class="activity-icon">ğŸŒ¾</div>
                    <div class="activity-content">
                        <div class="activity-text">ç±³ã®ç¨®é¡èª¬æ˜ï¼ˆäº”ç™¾ä¸‡çŸ³ï¼‰ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸ</div>
                        <div class="activity-time">18åˆ†å‰ | ğŸ‡¬ğŸ‡§ ã‚¤ã‚®ãƒªã‚¹ã‹ã‚‰ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼</div>
                    </div>
                </div>
                
                <div class="activity-item">
                    <div class="activity-icon">ğŸ­</div>
                    <div class="activity-content">
                        <div class="activity-text">é†¸é€ å·¥ç¨‹ï¼ˆç™ºé…µï¼‰ã®è©³ç´°èª¬æ˜ãŒé–²è¦§ã•ã‚Œã¾ã—ãŸ</div>
                        <div class="activity-time">25åˆ†å‰ | ğŸ‡¨ğŸ‡³ ä¸­å›½ã‹ã‚‰ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼</div>
                    </div>
                </div>
            </div>
            
            <div class="export-section">
                <h3 style="color: var(--color-primary); margin-bottom: 24px;">ãƒ‡ãƒ¼ã‚¿ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</h3>
                <button class="export-btn" onclick="exportCSV()">ğŸ“Š CSVå‡ºåŠ›</button>
                <button class="export-btn" onclick="exportPDF()">ğŸ“„ PDF ãƒ¬ãƒãƒ¼ãƒˆ</button>
                <button class="export-btn" onclick="emailReport()">ğŸ“§ ãƒ¡ãƒ¼ãƒ«é€ä¿¡</button>
            </div>
        </div>
    </div>
    
    <button class="refresh-btn" onclick="refreshData()" title="ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°">ğŸ”„</button>
    
    <script>
        // ã‚¢ã‚¯ã‚»ã‚¹è§£ææ©Ÿèƒ½
        class AnalyticsDashboard {
            constructor() {
                this.data = this.loadAnalyticsData();
                this.init();
            }
            
            init() {
                this.startRealTimeUpdates();
                this.animateCharts();
            }
            
            loadAnalyticsData() {
                // å®Ÿéš›ã®å®Ÿè£…ã§ã¯ã€ã‚µãƒ¼ãƒãƒ¼ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
                return JSON.parse(localStorage.getItem('masumasuAnalytics')) || this.generateSampleData();
            }
            
            generateSampleData() {
                const now = new Date();
                return {
                    totalVisitors: 1247,
                    aiInteractions: 567,
                    internationalVisitors: 456,
                    languages: {
                        ja: 45,
                        en: 28,
                        zh: 15,
                        fr: 12
                    },
                    products: {
                        'junmai-ginjo': 342,
                        'sparkling': 251,
                        'vintage': 183,
                        'honjozo': 147,
                        'plum': 98
                    },
                    timeSlots: {
                        morning: 25,
                        afternoon: 40,
                        evening: 35
                    },
                    countries: {
                        'US': 156,
                        'UK': 89,
                        'FR': 78,
                        'AU': 67,
                        'SG': 45
                    },
                    lastUpdated: now.toISOString()
                };
            }
            
            startRealTimeUpdates() {
                // 10ç§’ã”ã¨ã«ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°
                setInterval(() => {
                    this.updateData();
                }, 10000);
            }
            
            updateData() {
                // ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã•ã‚ŒãŸãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°
                this.data.totalVisitors += Math.floor(Math.random() * 3);
                this.data.aiInteractions += Math.floor(Math.random() * 2);
                this.data.internationalVisitors += Math.floor(Math.random() * 2);
                
                this.updateDisplay();
                this.saveData();
            }
            
            updateDisplay() {
                document.getElementById('totalVisitors').textContent = this.data.totalVisitors.toLocaleString();
                document.getElementById('aiInteractions').textContent = this.data.aiInteractions.toLocaleString();
                document.getElementById('internationalVisitors').textContent = this.data.internationalVisitors.toLocaleString();
            }
            
            animateCharts() {
                // ãƒãƒ£ãƒ¼ãƒˆãƒãƒ¼ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³
                setTimeout(() => {
                    const fills = document.querySelectorAll('.chart-fill');
                    fills.forEach(fill => {
                        const width = fill.style.width;
                        fill.style.width = '0%';
                        setTimeout(() => {
                            fill.style.width = width;
                        }, 100);
                    });
                }, 500);
            }
            
            saveData() {
                localStorage.setItem('masumasuAnalytics', JSON.stringify(this.data));
            }
            
            exportToCSV() {
                const csvData = this.convertToCSV();
                const blob = new Blob([csvData], { type: 'text/csv' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `masumasu-analytics-${new Date().toISOString().split('T')[0]}.csv`;
                a.click();
                window.URL.revokeObjectURL(url);
            }
            
            convertToCSV() {
                let csv = 'ã‚«ãƒ†ã‚´ãƒª,é …ç›®,å€¤\n';
                csv += `ç·è¨ªå•è€…æ•°,ä»Šæœˆ,${this.data.totalVisitors}\n`;
                csv += `AIæœæ°åˆ©ç”¨,ä»Šæœˆ,${this.data.aiInteractions}\n`;
                csv += `æµ·å¤–è¨ªå•è€…,ä»Šæœˆ,${this.data.internationalVisitors}\n`;
                
                Object.entries(this.data.languages).forEach(([lang, percentage]) => {
                    csv += `è¨€èª,${lang},${percentage}%\n`;
                });
                
                Object.entries(this.data.products).forEach(([product, views]) => {
                    csv += `å•†å“,${product},${views}\n`;
                });
                
                return csv;
            }
            
            generatePDFReport() {
                // PDFç”Ÿæˆã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
                alert('PDFãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã—ã¦ã„ã¾ã™...\n\nå«ã¾ã‚Œã‚‹å†…å®¹:\n- è¨ªå•è€…çµ±è¨ˆ\n- è¨€èªåˆ¥åˆ©ç”¨çŠ¶æ³\n- å•†å“åˆ¥äººæ°—ãƒ©ãƒ³ã‚­ãƒ³ã‚°\n- AIæœæ°åˆ©ç”¨çµ±è¨ˆ\n- å›½éš›çš„ã‚¢ã‚¯ã‚»ã‚¹åˆ†æ');
            }
            
            emailReport() {
                // ãƒ¡ãƒ¼ãƒ«é€ä¿¡ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
                const email = prompt('ãƒ¬ãƒãƒ¼ãƒˆé€ä¿¡å…ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„:');
                if (email) {
                    alert(`è§£æãƒ¬ãƒãƒ¼ãƒˆã‚’ ${email} ã«é€ä¿¡ã—ã¾ã—ãŸã€‚\n\né€ä¿¡å†…å®¹:\n- ä»Šæœˆã®çµ±è¨ˆã‚µãƒãƒªãƒ¼\n- è©³ç´°åˆ†æãƒ‡ãƒ¼ã‚¿\n- æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³`);
                }
            }
        }
        
        // ã‚°ãƒ­ãƒ¼ãƒãƒ«é–¢æ•°
        function refreshData() {
            window.location.reload();
        }
        
        function exportCSV() {
            window.analyticsDashboard.exportToCSV();
        }
        
        function exportPDF() {
            window.analyticsDashboard.generatePDFReport();
        }
        
        function emailReport() {
            window.analyticsDashboard.emailReport();
        }
        
        // åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            window.analyticsDashboard = new AnalyticsDashboard();
        });
    </script>
    <script src="js/simple-chat.js"></script>

    <!-- Google Translate -->
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'ja',
                includedLanguages: 'en,fr,zh,ko,it,es,vi,ar,de,ru,pt,th,hi,tr,pl,nl,sv,da,no,fi,he,id,ms,tl,bg,hr,cs,et,lv,lt,hu,mt,sk,sl,ro,uk,el,ca,eu,ga,cy,is,fa,ur,bn,ta,te,ml,kn,gu,pa,ne,si,my,km,lo,ka,am,sw,zu,af,sq,az,be,bs,mk,mn,sr,uz,ky,kk,tg,hy,ka',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                gaTrack: true,
                gaId: 'UA-XXXXX-Y'
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    
    <!-- Mobile AI Chatbot -->
    <div class="mobile-ai-chatbot">
        <button class="chatbot-btn" onclick="openAIChat()">
            ğŸŒ¸ AIã‚µã‚¯ãƒ©ã«ç›¸è«‡ã™ã‚‹
        </button>
    </div>
</body>
</html>