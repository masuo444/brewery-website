# AIサクラチャットボット - API設定ガイド

## 概要
AIサクラチャットボットは、OpenAI GPTとDeepL APIを使用して、多言語対応の日本酒コンシェルジュサービスを提供します。

## 必要なAPIキー

### 1. OpenAI API
**目的**: AIサクラの知識豊富な回答生成
**料金**: 使用量に応じた従量課金

**取得手順**:
1. [OpenAI公式サイト](https://platform.openai.com/)にアクセス
2. アカウント作成・ログイン
3. API Keysページでキー生成
4. 料金プランの設定（推奨: $5-20の初期クレジット）

**月額想定費用**: 中程度の使用で月1,000-3,000円程度

### 2. DeepL API
**目的**: 高品質な多言語翻訳機能
**料金**: 月50万文字まで無料、以降従量課金

**取得手順**:
1. [DeepL API公式サイト](https://www.deepl.com/ja/pro-api)にアクセス
2. アカウント作成
3. API キーを取得
4. 無料プランまたは有料プラン選択

**月額想定費用**: 無料プランで十分、大量使用時は月500-2,000円程度

## API キーの設定方法

### ステップ1: ファイルの編集
`js/ai-sakura-chat.js` ファイルを開き、以下の部分を編集:

```javascript
const CONFIG = {
    openai: {
        apiKey: 'YOUR_OPENAI_API_KEY', // ここに取得したOpenAI APIキーを入力
        model: 'gpt-3.5-turbo',
        apiUrl: 'https://api.openai.com/v1/chat/completions'
    },
    deepl: {
        apiKey: 'YOUR_DEEPL_API_KEY', // ここに取得したDeepL APIキーを入力
        apiUrl: 'https://api-free.deepl.com/v2/translate' // 無料版の場合
        // apiUrl: 'https://api.deepl.com/v2/translate' // 有料版の場合はコメントアウトを外す
    }
};
```

### ステップ2: セキュリティ設定
**重要**: APIキーは機密情報です。以下に注意してください：

1. **本番環境での設定**
   - 環境変数を使用
   - サーバーサイドでの処理を推奨
   - クライアントサイドでの直接埋め込みは避ける

2. **開発環境での一時的な設定**
   - APIキーをファイルに直接記載する場合は、gitignoreに追加
   - 公開リポジトリにはコミットしない

### ステップ3: 動作確認
1. Webサイトにアクセス
2. 「🌸 AIサクラに相談する」ボタンをクリック
3. チャットウィンドウが開くことを確認
4. メッセージを送信してAIからの返答を確認
5. 言語切り替え機能をテスト

## 主な機能

### 🤖 AI対話機能
- OpenAI GPT-3.5-turboを使用
- 益々酒造専用の知識ベース
- 日本酒に関する専門的な回答
- おすすめ、ペアリング、飲み方の提案

### 🌐 多言語サポート
- 10言語対応（日本語、英語、中国語、韓国語、フランス語、スペイン語、ドイツ語、イタリア語、ポルトガル語、ロシア語）
- DeepL APIによる高品質翻訳
- リアルタイム言語切り替え

### 💬 ユーザーフレンドリーなUI
- モバイル対応のレスポンシブデザイン
- タイピングインジケーター
- クイック返信ボタン
- アニメーション効果

## トラブルシューティング

### チャットボットが起動しない場合
1. ブラウザのコンソールを確認
2. `js/ai-sakura-chat.js`が正しく読み込まれているか確認
3. APIキーが正しく設定されているか確認

### AI返答が表示されない場合
1. OpenAI APIキーの有効性を確認
2. APIクレジット残高を確認
3. ネットワーク接続を確認
4. ブラウザのCORS設定を確認

### 翻訳機能が動作しない場合
1. DeepL APIキーの有効性を確認
2. 月間文字数制限を確認
3. 対象言語が対応しているか確認

## フォールバック機能
APIが利用できない場合、以下のフォールバック機能が動作します：

1. **オフライン応答**: 事前定義された回答パターン
2. **基本的な質問対応**: よくある質問への自動応答
3. **エラーハンドリング**: ユーザーフレンドリーなエラーメッセージ

## セキュリティ上の注意

1. **APIキーの管理**
   - 定期的なキーローテーション
   - 使用量監視
   - 不正使用の検知

2. **レート制限**
   - APIコール頻度の制限
   - 同一IPからの連続リクエスト制御

3. **データプライバシー**
   - ユーザーの対話ログの適切な管理
   - 個人情報の非収集

## 今後の機能拡張予定

- 音声対話機能
- 画像認識による日本酒診断
- パーソナライゼーション機能
- チャット履歴の保存
- 管理者ダッシュボード

---

**問い合わせ**: 技術的な問題がある場合は、開発チームまでご連絡ください。