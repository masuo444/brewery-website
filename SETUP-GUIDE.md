# 🌸 サクラAI設定ガイド

## 🚀 クイックスタート

### 1. APIキーの取得（5分）
1. [OpenAI Platform](https://platform.openai.com/) にアクセス
2. アカウント作成またはログイン
3. 「API keys」→「Create new secret key」
4. APIキーをコピー（例：`sk-1234567890abcdef...`）

### 2. APIキーの設定（1分）
```bash
# config/api-config.js ファイルを編集
```

以下の行を見つけて：
```javascript
const OPENAI_API_KEY = 'YOUR_OPENAI_API_KEY_HERE';
```

あなたのAPIキーに置き換え：
```javascript
const OPENAI_API_KEY = 'sk-1234567890abcdef...';
```

### 3. 動作確認（1分）
1. ウェブサイトを開く
2. 「🌸 サクラに相談してみる」ボタンをクリック
3. 「こんにちは」と入力してテスト
4. サクラからの返答を確認！

## ✅ 動作状況の確認

### API接続状況
- **🟢 緑色**: GPT API接続済み（完全機能）
- **🟡 黄色**: API Key未設定（デモモード）
- **🔴 赤色**: 接続エラー

### デモモードとは？
APIキーが未設定でも基本的な会話が可能：
- 酒蔵の基本情報
- 商品説明
- 簡単なペアリング提案

### 完全モードの機能
APIキー設定後に利用可能：
- 自然な対話
- 詳細な専門知識
- パーソナライズされた提案
- 会話の文脈理解

## 💰 コスト管理

### 料金の目安
- **GPT-4o-mini**: 入力$0.15/1M、出力$0.60/1M tokens
- **1回の会話**: 約100-500 tokens
- **月間1000回**: 約$5-20

### 使用量制限の設定
1. OpenAI Platform → Usage limits
2. 月間上限を設定（例：$20）
3. アラート設定で安心

## 🔧 カスタマイズ

### サクラの性格調整
```javascript
// ai-chat-gpt.js の getSystemPrompt() で調整
- 話し方スタイル
- 専門知識レベル
- 回答の長さ
```

### デザインのカスタマイズ
```css
/* style.css で色調整 */
:root {
    --sakura-primary: #FFB6C1;    /* ピンク */
    --sakura-secondary: #FFC0CB;  /* ライトピンク */
}
```

## 🛠️ トラブルシューティング

### よくある問題

#### ❌ チャットが開かない
**原因**: JavaScriptエラー
**解決**: ブラウザのコンソール（F12）でエラー確認

#### ❌ 「デモモード」から変わらない
**原因**: APIキーが正しく設定されていない
**解決**: 
1. `config/api-config.js`の内容確認
2. APIキーの有効性確認
3. ページをリロード

#### ❌ 「接続エラー」
**原因**: APIキーが無効、またはネットワーク問題
**解決**:
1. OpenAI Platformでキーが有効か確認
2. 課金設定が完了しているか確認
3. ネットワーク接続確認

#### ❌ 回答が遅い
**原因**: GPT APIの応答時間
**解決**: 正常です（2-5秒程度）

## 🔐 セキュリティ

### 本番環境での注意
```bash
# APIキーを環境変数で管理
export OPENAI_API_KEY="your-key-here"

# .gitignoreに追加
echo "config/api-config.js" >> .gitignore
```

### 推奨設定
- 定期的なAPIキーの更新
- 使用量モニタリング
- アクセスログの確認

## 📞 サポート

### 問題が解決しない場合
1. **コンソールエラー**: F12 → Consoleタブでエラー確認
2. **ネットワーク**: F12 → Networkタブで通信確認
3. **設定確認**: `config/api-config.js`の内容再確認

### よくある質問

**Q: APIキーは安全ですか？**
A: クライアントサイドなので、本番環境ではサーバーサイドプロキシを推奨

**Q: 他の言語に対応できますか？**
A: はい、システムプロンプトを調整すれば多言語対応可能

**Q: 会話履歴は保存されますか？**
A: ブラウザセッション中のみ。ページリロードで削除

**Q: モバイルでも動作しますか？**
A: はい、レスポンシブデザインで対応済み

---

🌸 **これで益々酒造に最強のAIソムリエが誕生です！**

サクラがお客様に最高の日本酒体験を提供します。